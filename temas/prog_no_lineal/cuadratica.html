<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Optimización Lineal</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="hero">
      <h1>Programación Cuadrática </h1>
    </header>
    <div class="container">
      <form id="optimization-form">
        <h2>Función Objetivo</h2>
        <label for="c1">Coeficiente de x1:</label>
        <input type="number" id="c1" name="c1" required step="0.01" value="6" />
        <label for="c2">Coeficiente de x2:</label>
        <input type="number" id="c2" name="c2" required step="0.01" value="3" />
        <label for="c1sq">Coeficiente de x1²:</label>
        <input
          type="number"
          id="c1sq"
          name="c1sq"
          required
          step="0.01"
          value="2"
        />
        <label for="c2sq">Coeficiente de x2²:</label>
        <input
          type="number"
          id="c2sq"
          name="c2sq"
          required
          step="0.01"
          value="3"
        />

        <h2>Restricciones</h2>
        <label for="r1">x1 + x2 ≤</label>
        <input type="number" id="r1" name="r1" required step="0.01" value="1" />
        <label for="r2">2x1 + 3x2 ≤</label>
        <input type="number" id="r2" name="r2" required step="0.01" value="4" />

        <button type="submit">Resolver</button>
      </form>
      <div class="output" id="output">
        <p>

        </p>
      </div>
    </div>
    <script>
        document
  .getElementById('optimization-form')
  .addEventListener('submit', function (event) {
    event.preventDefault();

    // Capturar los datos del formulario
    const c1 = parseFloat(document.getElementById('c1').value);
    const c2 = parseFloat(document.getElementById('c2').value);
    const c1sq = parseFloat(document.getElementById('c1sq').value);
    const c2sq = parseFloat(document.getElementById('c2sq').value);
    const r1 = parseFloat(document.getElementById('r1').value);
    const r2 = parseFloat(document.getElementById('r2').value);

    // Función objetivo
    function objetivo(x1, x2) {
      return (
        c1 * x1 + c2 * x2 - c1sq * Math.pow(x1, 2) - c2sq * Math.pow(x2, 2)
      );
    }

    // Restricciones
    function cumpleRestricciones(x1, x2) {
      return x1 + x2 <= r1 && 2 * x1 + 3 * x2 <= r2 && x1 >= 0 && x2 >= 0;
    }

    // Búsqueda de la solución óptima
    let mejorZ = -Infinity;
    let mejorX1 = 0;
    let mejorX2 = 0;

    // Búsqueda de soluciones con una cuadrícula
    const pasos = 100; // Precisión
    for (let i = 0; i <= pasos; i++) {
      for (let j = 0; j <= pasos; j++) {
        let x1 = i / pasos;
        let x2 = j / pasos;
        if (cumpleRestricciones(x1, x2)) {
          let z = objetivo(x1, x2);
          if (z > mejorZ) {
            mejorZ = z;
            mejorX1 = x1;
            mejorX2 = x2;
          }
        }
      }
    }

    // Mostrar resultados
    const outputDiv = document.getElementById('output');
    outputDiv.innerHTML = `
      <p><strong>Valor óptimo de Z:</strong> ${mejorZ.toFixed(4)}</p>
      <p><strong>Solución óptima (x1, x2):</strong> (${mejorX1.toFixed(
        4
      )}, ${mejorX2.toFixed(4)})</p>
  `;
  });

    </script>
  </body>
</html>
